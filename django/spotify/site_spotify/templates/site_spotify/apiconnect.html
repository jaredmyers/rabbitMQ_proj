<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <title>Dashboard</title>
    </head>
        <body>
           
            
            <script>
              /*
              const APIController = (function() {

                const clientId = '';
                const clientSecret = '';

                const _getToken = async () => {
                
                  const result = await fetch('https://accounts/spotify.com/api/token', {
                    method: 'POST', 
                    headers: {
                      'Content-Type' : 'application/x-www-form-urlencoded',
                      'Authorization' : 'Basic' + btoa(cliendId + ':' + clientSecret)
                    },
                    body: 'grant_type=implicit_grant'
                });

                const data = await result.json();
                return data.access_token;
                }

              })();
                */
              

              var client_id = '4ed36c33643a4974817619f60d7615cd';
              var client_secret = '7db6c1bc9d2f4a328f0968700b95fc69';
              var redirect_uri = 'http://localhost:8000/site_spotify/urlredirect';
              var authorize = 'https://accounts.spotify.com/authorize';
              var scope = 'user-library-read';


              function requestAuthorization(){
                localStorage.setItem("client_id", client_id);
                localStorage.setItem("client_secret", client_secret);

                let url = authorize;
                url += "?client_id=" + client_id;
                url += "&client_secret=" + client_secret;
                url += "&response_type=code";
                url += "&redirect_uri=" + encodeURI(redirect_uri);
                url += "&show_dialog=true";
                url += "&scope=user-library-read";
                window.location.href = url; // Show Spotify's authorization screen

              }

              
              requestAuthorization();

            </script>
           
        </body>
</html>







